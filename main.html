<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hash Table Program</title>
<style>
        table {
            border-collapse: collapse;
            width: 70%;
            margin: 20px auto;
        }
        th, td {
            border: 1px solid #000;
            padding: 8px;
            text-align: center;
        }
        th {
            background-color: #f2f2f2;
        }
        .menu {
            text-align: center;
            margin: 20px;
        }
        .hidden {
            display: none;
        }
</style>
</head>
<body>
<div class="menu" id="menu1">
<h2>Select Hash Function Method</h2> <button onclick="selectHashFunction('addFold')">Add and Fold</button> <button onclick="selectHashFunction('digitSelection')">Digit Selection</button> <button onclick="selectHashFunction('midSquare')">Mid-square Method</button> <button onclick="selectHashFunction('modulo')">Modulo Arithmetic</button>
</div>
<div class="menu hidden" id="menu2">
<h2>Select Collision Resolution Method</h2> <button onclick="selectCollisionResolution('bucketChaining')">Bucket Chaining</button> <button onclick="selectCollisionResolution('linearProbing')">Linear Probing</button> <button onclick="selectCollisionResolution('secondHash')">Second Hash Function</button>
</div>
<div class="menu hidden" id="menu3">
<h2>Data Entry</h2> <label for="wordCount">How many word(s) are to be entered (1-50): </label>
<input type="number" id="wordCount" min="1" max="50"> <button onclick="startDataEntry()">Start</button>
<div id="wordInputs" class="hidden"></div>
</div>
<div class="menu hidden" id="tableSection">
<h2>Output Presentation</h2>
<table>
<thead>
<tr>
<th>00 - 09</th>
<th>10 - 19</th>
<th>20 - 29</th>
<th>30 - 39</th>
<th>40 - 49</th>
</tr>
</thead>
<tbody id="table-body"> <!-- Rows will be generated by JavaScript -->
</tbody>
</table> 
</div>
<script>
 
        let hashFunction, collisionResolution;
        function selectHashFunction(method) {
            hashFunction = method;
            document.getElementById('menu1').classList.add('hidden');
            document.getElementById('menu2').classList.remove('hidden');
        }
        function selectCollisionResolution(method) {
            collisionResolution = method;
            document.getElementById('menu2').classList.add('hidden');
            document.getElementById('menu3').classList.remove('hidden');
        }
        function startDataEntry() {
            const wordCount = document.getElementById('wordCount').value;
            if (wordCount < 1 || wordCount > 50) {
                alert('Please enter a number between 1 and 50');
                return;
            }
            const wordInputs = document.getElementById('wordInputs');
            wordInputs.innerHTML = '';
            for (let i = 1; i <= wordCount; i++) {
                wordInputs.innerHTML += `<label for="word${i}">Word #${i}: </label><input type="text" id="word${i}"><br>`;
            }
            wordInputs.innerHTML += `<button onclick="submitWords(${wordCount})">Submit</button>`;
            wordInputs.classList.remove('hidden');
        }
        function submitWords(wordCount) {
            const words = [];
            for (let i = 1; i <= wordCount; i++) {
                const word = document.getElementById(`word${i}`).value;
                if (word.trim() === '') {
                    alert('Please enter all words.');
                    return;
                }
                words.push(word);
            }
            document.getElementById('menu3').classList.add('hidden');
            document.getElementById('tableSection').classList.remove('hidden');
            generateTable(words);
        }
        function generateTable(words) {
            const tableBody = document.getElementById('table-body');
            tableBody.innerHTML = '';
            const hashTable = new Array(50).fill(null);
            words.forEach(word => {
                let index;
                if (hashFunction === 'addFold') {
                    index = addFoldHash(word);
                } else if (hashFunction === 'digitSelection') {
                    index = digitSelectionHash(word);
                } else if (hashFunction === 'modulo') {
                    index = moduloHash(word);
                } else if (hashFunction === 'midSquare') {
                    index = midSquareHash(word);
                }
                if (collisionResolution === 'linearProbing') {
                    index = linearProbing(hashTable, index, word);
                } else if (collisionResolution === 'secondHash') {
                    index = secondHash(hashTable, word, index);
                } else if (collisionResolution === 'bucketChaining') {
                    if (hashTable[index] === null) {
                        hashTable[index] = [word];
                    } else {
                        hashTable[index].push(word);
                    }
                } else {
                    hashTable[index] = [word];
                }
            });
            for (let i = 0; i < 10; i++) {
                const tr = document.createElement('tr');
                for (let j = 0; j < 5; j++) {
                    const td = document.createElement('td');
                    const index = i + j * 10;
                    if (hashTable[index]) {
                        if (Array.isArray(hashTable[index])) {
                            td.textContent = hashTable[index].join(' -> ');
                        } else {
                            td.textContent = hashTable[index];
                        }
                    }
                    tr.appendChild(td);
                }
                tableBody.appendChild(tr);
            }
        }
        function addFoldHash(word) {
            const asciiValues = Array.from(word).map(char => char.charCodeAt(0));
            let sum = 0;
            for (let i = 0; i < asciiValues.length; i++) {
                const digits = asciiValues[i].toString().split('').map(Number);
                sum += digits.reduce((acc, val) => acc + val, 0);
            }
            return sum % 50;
        }
        function digitSelectionHash(word) {
            const asciiValue = word.charCodeAt(0);
            return parseInt(asciiValue.toString()[0], 10) % 50;
        }
        function moduloHash(word) {
            const combinedAscii = Array.from(word).map(char => char.charCodeAt(0)).join('');
            return parseInt(combinedAscii) % 47;
        }
        function midSquareHash(word) {
            const asciiString = Array.from(word).map(char => char.charCodeAt(0)).join('');
            const mid = Math.floor(asciiString.length / 2);
            let index;
            if (asciiString.length % 2 === 0) {
                const leftDigit = parseInt(asciiString.charAt(mid - 1), 10);
                index = leftDigit * leftDigit;
            } else {
                index = parseInt(asciiString.charAt(mid), 10);
                index = index * index;
            }
            let count = 0;
            while ((index > 49 || index < 0) && count < 3) {
                const leftmostDigit = parseInt(index.toString().charAt(0), 10);
                index = leftmostDigit * leftmostDigit;
                index = index % 50;
                count++;
            }
            if (index > 49 || index < 0) {
                index = parseInt(index.toString().charAt(index.toString().length - 1), 10);
            }
            return index;
        }
        function linearProbing(hashTable, index, word) {
            let originalIndex = index;
            while (hashTable[index] !== null) {
                index = (index + 1) % 50;
                if (index === originalIndex) {
                    alert('Hash table is full!');
                    return -1;
                }
            }
            hashTable[index] = word;
            return index;
        }
        function secondHash(hashTable, word, index) {
            let secondIndex = moduloHash(word);
            let increment = moduloHash(word);
            let count = 0;
            while (hashTable[secondIndex] !== null) {
                secondIndex = (secondIndex + increment) % 43;
                count++;
                if (count >= 50) {
                    return linearProbing(hashTable, index, word);
                }
            }
            hashTable[secondIndex] = word;
            return secondIndex;
        }

</script>
</body>
</html>